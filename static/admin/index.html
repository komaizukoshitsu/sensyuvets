<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>
  <!-- Include the script that enables Netlify Identity on this page. -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
  <!-- Include the script that builds the page and powers Netlify CMS -->
  <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
  <script>
    var NewsPreview = createClass({
      render: function() {
        var entry = this.props.entry;
        var title = entry.getIn(['data', 'title']);
        var date = entry.getIn(['data', 'date']);
        var tags = entry.getIn(['data', 'tags']);

        return h('div', {"className": "news"},
          h('div', {}, date),
          h('h1', {}, title),
          h('div', {"className": "entry-body"}, this.props.widgetFor('body')),
          h('ul', {"className": "tag-list"},
            h('li', {}, tags)
          )
        );
      }
    });

    var MemberPreview = createClass({
      render: function() {
        var entry = this.props.entry;
        var title = entry.getIn(['data', 'title']);
        var description = entry.getIn(['data', 'description']);
        var director = entry.getIn(['data', 'info', 'director']);
        var open = entry.getIn(['data', 'info', 'open']);
        var department = entry.getIn(['data', 'info', 'department']);
        var animals = entry.getIn(['data', 'info', 'animals']);
        var staff = entry.getIn(['data', 'info', 'staff']);
        var facility = entry.getIn(['data', 'info', 'facility']);
        var features = entry.getIn(['data', 'info', 'features']);
        var website = entry.getIn(['data', 'info', 'website']);
        var address = entry.getIn(['data', 'contact', 'address']);
        var tel = entry.getIn(['data', 'contact', 'tel']);
        var fax = entry.getIn(['data', 'contact', 'fax']);
        var mail = entry.getIn(['data', 'contact', 'mail']);
        var date = entry.getIn(['data', 'recruit', 'date']);
        var recruiting = entry.getIn(['data', 'recruit', 'recruiting']);
        var message = entry.getIn(['data', 'recruit', 'message']);
        var salary = entry.getIn(['data', 'recruit', 'salary']);
        var holiday = entry.getIn(['data', 'recruit', 'holiday']);
        var bonus = entry.getIn(['data', 'recruit', 'bonus']);
        var allowance = entry.getIn(['data', 'recruit', 'allowance']);
        var welfare = entry.getIn(['data', 'recruit', 'welfare']);
        var option = entry.getIn(['data', 'recruit', 'option']);

        if(recruiting) {
          return h('div', {"className": "member"},
            h('div', {"className": "entry-header"},
              h('div', {"className": "entry-title-wrap"},
                h('h1', {}, title),
                h('span', {"className": "badge-recruitment"}, "獣医師募集中"),
              ),
              h('h2', {"className": "subTitle"}, description),
            ),
            h('div', {"className": "entry-body"},
              h('h2', {}, "病院について"),
              h('table', {},
                h('thead', {},
                  h('tr', {},
                    h('th', {}, "院長"),
                    h('th', {}, director),
                  )
                ),
                h('tbody', {},
                  h('tr', {},
                    h('td', {}, "開院"),
                    h('td', {}, open),
                  ),
                  h('tr', {},
                    h('td', {}, "診療科"),
                    h('td', {}, department),
                  ),
                  h('tr', {},
                    h('td', {}, "診療対象動物"),
                    h('td', {}, animals),
                  ),
                  h('tr', {},
                    h('td', {}, "従業員"),
                    h('td', {}, staff),
                  ),
                  h('tr', {},
                    h('td', {}, "設備"),
                    h('td', {}, facility),
                  ),
                  h('tr', {},
                    h('td', {}, "特色"),
                    h('td', {}, features),
                  ),
                  h('tr', {},
                    h('td', {}, "WEBサイト"),
                    h('td', {}, website),
                  ),
                )
              ),
              h('h2', {}, "連絡先"),
              h('table', {},
                h('thead', {},
                  h('tr', {},
                    h('th', {}, "住所"),
                    h('th', {}, address),
                  )
                ),
                h('tbody', {},
                  h('tr', {},
                    h('td', {}, "TEL"),
                    h('td', {}, tel),
                  ),
                  h('tr', {},
                    h('td', {}, "FAX"),
                    h('td', {}, fax),
                  ),
                  h('tr', {},
                    h('td', {}, "MAIL"),
                    h('td', {}, mail),
                  ),
                )
              ),
              h('div', {"className": "recruit-wrap"},
                h('div', {"className": "recruit-title-wrap"}, 
                  h('h2', {}, "募集内容"),
                  h('div', {}, date),
                ),
                h('p', {}, message),
                h('table', {},
                  h('thead', {},
                    h('tr', {},
                      h('th', {}, "給与"),
                      h('th', {}, salary),
                    )
                  ),
                  h('tbody', {},
                    h('tr', {},
                      h('td', {}, "休日"),
                      h('td', {}, holiday),
                    ),
                    h('tr', {},
                      h('td', {}, "賞与・昇給"),
                      h('td', {}, bonus),
                    ),
                    h('tr', {},
                      h('td', {}, "手当"),
                      h('td', {}, allowance),
                    ),
                    h('tr', {},
                      h('td', {}, "福利厚生"),
                      h('td', {}, welfare),
                    ),
                    h('tr', {},
                      h('td', {}, "その他"),
                      h('td', {}, option),
                    ),
                  )
                )
              )
            )
          );
        } else {
          return h('div', {"className": "member"},
            h('div', {"className": "entry-header"},
              h('div', {"className": "entry-title-wrap"},
                h('h1', {}, title),
              ),
              h('h2', {"className": "subTitle"}, description),
            ),
            h('div', {"className": "entry-body"},
              h('h2', {}, "病院について"),
              h('table', {},
                h('thead', {},
                  h('tr', {},
                    h('th', {}, "院長"),
                    h('th', {}, director),
                  )
                ),
                h('tbody', {},
                  h('tr', {},
                    h('td', {}, "開院"),
                    h('td', {}, open),
                  ),
                  h('tr', {},
                    h('td', {}, "診療科"),
                    h('td', {}, department),
                  ),
                  h('tr', {},
                    h('td', {}, "診療対象動物"),
                    h('td', {}, animals),
                  ),
                  h('tr', {},
                    h('td', {}, "従業員"),
                    h('td', {}, staff),
                  ),
                  h('tr', {},
                    h('td', {}, "設備"),
                    h('td', {}, facility),
                  ),
                  h('tr', {},
                    h('td', {}, "特色"),
                    h('td', {}, features),
                  ),
                  h('tr', {},
                    h('td', {}, "WEBサイト"),
                    h('td', {}, website),
                  ),
                )
              ),
              h('h2', {}, "連絡先"),
              h('table', {},
                h('thead', {},
                  h('tr', {},
                    h('th', {}, "住所"),
                    h('th', {}, address),
                  )
                ),
                h('tbody', {},
                  h('tr', {},
                    h('td', {}, "TEL"),
                    h('td', {}, tel),
                  ),
                  h('tr', {},
                    h('td', {}, "FAX"),
                    h('td', {}, fax),
                  ),
                  h('tr', {},
                    h('td', {}, "MAIL"),
                    h('td', {}, mail),
                  ),
                )
              )
            )
          );
        }
      }
    });

    var AboutPreview = createClass({
      render: function() {
        var entry = this.props.entry;

        return h('div', {"className": "about"},
          h('div', {"className": "list-body"}, this.props.widgetFor('body')),
        );
      }
    });

    var LinkPreview = createClass({
      render: function() {
        var entry = this.props.entry;
        var img = entry.getIn(['data', 'link1', 'thumbnail']);
        var name = entry.getIn(['data', 'link1', 'name']);
        var url = entry.getIn(['data', 'link1', 'url']);

        return h('div', {"className": "link"},
          h('div', {"className": "list-body"}, 
            h('img', {}, img),
            h('h2', {}, name),
          )
        );
      }
    });

    CMS.registerPreviewTemplate("news", NewsPreview);
    CMS.registerPreviewTemplate("member", MemberPreview);
    CMS.registerPreviewTemplate("about", AboutPreview);
    CMS.registerPreviewTemplate("link", LinkPreview);
    {{/*  {{ $style := resources.Get "scss/previewStyle.scss" | toCSS | postCSS (dict "config" "../../assets/scss/postcss.config.js") | minify | fingerprint }}
    CMS.registerPreviewStyle({{ $style.Permalink }});  */}}
    CMS.registerPreviewStyle("./previewStyle.css");
  </script>
</body>
</html>